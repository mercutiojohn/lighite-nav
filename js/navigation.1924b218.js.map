{"version":3,"sources":["webpack:///./src/styles/window.css?e190","webpack:///./src/views/Navigation.vue?c097","webpack:///src/views/Navigation.vue","webpack:///./src/views/Navigation.vue?8147","webpack:///./src/views/Navigation.vue","webpack:///./src/styles/list.css?fb98","webpack:///./src/views/Navigation.vue?62e3"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","navigation","addWindowShow","attrs","staticClass","on","$event","target","currentTarget","showAdd","_v","directives","name","rawName","value","editing","expression","domProps","composing","$set","addNewFavor","_e","showModify","iconfont","modifyShow","_s","_l","navs","item","index","key","testSubsites","attributes","url","left","style","color","getIcon","icon","preventDefault","removeFavor","title","subsites","item_2","index_2","sites","data","item_1","index_1","addFavor","staticRenderFns","components","favorites","others","computed","remoteNavs","$store","getters","getNavs","watch","commit","methods","console","id","unshift","model","getRemoteNavs","$api","get","then","updateNavs","splice","setTimeout","deepClone","obj","objClone","created","mounted","beforeDestroy","component"],"mappings":"8GAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAEC,YAAY,EAAM,eAAe,EAAM,UAAWP,EAAIQ,gBAAiB,CAACJ,EAAG,aAAa,CAACK,MAAM,CAAC,KAAO,SAAS,CAAET,EAAiB,cAAEI,EAAG,MAAM,CAACM,YAAY,sBAAsBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAGA,EAAOC,SAAWD,EAAOE,cAAuB,KAAcd,EAAIe,aAAa,CAACX,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAACV,EAAIgB,GAAG,UAAUZ,EAAG,OAAO,CAACM,YAAY,OAAO,CAACV,EAAIgB,GAAG,QAAQZ,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAIqB,QAAa,MAAEC,WAAW,kBAAkBb,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQ,GAAK,QAAQ,YAAc,MAAMc,SAAS,CAAC,MAASvB,EAAIqB,QAAa,OAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOW,WAAqBxB,EAAIyB,KAAKzB,EAAIqB,QAAS,QAAST,EAAOC,OAAOO,WAAWhB,EAAG,OAAO,CAACM,YAAY,OAAO,CAACV,EAAIgB,GAAG,SAASZ,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAIqB,QAAW,IAAEC,WAAW,gBAAgBb,MAAM,CAAC,KAAO,OAAO,KAAO,MAAM,GAAK,MAAM,YAAc,OAAOc,SAAS,CAAC,MAASvB,EAAIqB,QAAW,KAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOW,WAAqBxB,EAAIyB,KAAKzB,EAAIqB,QAAS,MAAOT,EAAOC,OAAOO,WAAWhB,EAAG,OAAO,CAACM,YAAY,OAAO,CAACV,EAAIgB,GAAG,QAAQZ,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAIqB,QAAY,KAAEC,WAAW,iBAAiBb,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,GAAK,OAAO,YAAc,SAASc,SAAS,CAAC,MAASvB,EAAIqB,QAAY,MAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOW,WAAqBxB,EAAIyB,KAAKzB,EAAIqB,QAAS,OAAQT,EAAOC,OAAOO,WAAWhB,EAAG,OAAO,CAACM,YAAY,OAAO,CAACV,EAAIgB,GAAG,SAASZ,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOpB,EAAIqB,QAAa,MAAEC,WAAW,kBAAkBb,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQ,GAAK,OAAO,YAAc,cAAcc,SAAS,CAAC,MAASvB,EAAIqB,QAAa,OAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOW,WAAqBxB,EAAIyB,KAAKzB,EAAIqB,QAAS,QAAST,EAAOC,OAAOO,WAAWhB,EAAG,SAAS,CAACM,YAAY,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAI0B,iBAAiB,CAAC1B,EAAIgB,GAAG,YAAYhB,EAAI2B,OAAOvB,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,OAAO,CAACM,YAAY,SAAS,CAACV,EAAIgB,GAAG,UAAUZ,EAAG,SAAS,CAACM,YAAY,cAAcC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAI4B,gBAAgB,CAACxB,EAAG,OAAO,CAACE,MAAM,CACh0EuB,UAAU,EACV,eAAgB7B,EAAI8B,WACpB,aAAc9B,EAAI8B,cAChB1B,EAAG,OAAO,CAACM,YAAY,OAAO,CAACV,EAAIgB,GAAGhB,EAAI+B,GAAI/B,EAAI8B,WAAgB,KAAL,aAAkB1B,EAAG,MAAM,CAACM,YAAY,YAAY,CAACV,EAAIgC,GAAIhC,EAAIiC,KAAc,WAAE,SAASC,EAAKC,GAAO,OAAO/B,EAAG,IAAI,CAACgC,IAAID,EAAM7B,MAAM,CACtM,YAAY,EACZ,YAAY,EACZ,gBAAiBN,EAAIqC,aAAaH,EAAKI,aACvC7B,MAAM,CAAC,KAAOyB,EAAKI,WAAWC,IAAI,OAAS,WAAW,CAACnC,EAAG,MAAM,CAACE,MAAM,CACrEkC,MAAM,EACN,YAAaxC,EAAIqC,aAAaH,EAAKI,cAClC,CAAClC,EAAG,MAAM,CAACM,YAAY,OAAO,CAACN,EAAG,MAAM,CAACM,YAAY,YAAY+B,MAAO,qBAAuBP,EAAKI,WAAWI,OAAQ,CAACtC,EAAG,MAAM,CAACM,YAAY,OAAOD,MAAM,CAAC,IAAMT,EAAI2C,QAAQT,EAAKI,WAAWM,MAAM,IAAM,GAAG,OAAS,QAAQxC,EAAG,aAAa,CAACK,MAAM,CAAC,KAAO,SAAS,CAAET,EAAc,WAAEI,EAAG,MAAM,CAACE,MAAM,CACnS,cAAc,EACd,gBAAgB,EAChB,cAAc,EACd,eAAe,GACfK,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOiC,iBAAwB7C,EAAI8C,YAAYX,MAAU,CAAC/B,EAAG,OAAO,CAACM,YAAY,0BAA0BV,EAAI2B,QAAQ,GAAGvB,EAAG,OAAO,CAACM,YAAY,0BAA0Ba,SAAS,CAAC,YAAcvB,EAAI+B,GAAGG,EAAKI,WAAWS,YAAa/C,EAAIqC,aAAaH,EAAKI,YAAalC,EAAG,MAAM,CAACM,YAAY,iBAAiBV,EAAIgC,GAAIE,EAAKI,WAAWU,SAAa,MAAE,SAASC,EAAOC,GAAS,OAAO9C,EAAG,IAAI,CAACgC,IAAIc,EAAQxC,YAAY,eAAeD,MAAM,CAAC,KAAOwC,EAAOX,WAAWC,IAAI,OAAS,WAAW,CAACnC,EAAG,OAAO,CAACM,YAAY,0BAA0Ba,SAAS,CAAC,YAAcvB,EAAI+B,GAAGkB,EAAOX,WAAWS,eAAc,GAAG/C,EAAI2B,UAASvB,EAAG,aAAa,CAACK,MAAM,CAAC,KAAO,SAAS,CAAET,EAAc,WAAEI,EAAG,MAAM,CAACM,YAAY,4BAA4BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIe,aAAa,CAACX,EAAG,OAAO,CAACM,YAAY,sBAAsBN,EAAG,OAAO,CAACM,YAAY,OAAO,CAACV,EAAIgB,GAAG,WAAWhB,EAAI2B,QAAQ,GAAG3B,EAAIgC,GAAIhC,EAAIiC,KAAW,QAAE,SAASC,EAAKC,GAAO,OAAO/B,EAAG,MAAM,CAACgC,IAAID,EAAMzB,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,eAAe,CAACN,EAAG,OAAO,CAACM,YAAY,QAAQa,SAAS,CAAC,YAAcvB,EAAI+B,GAAGG,EAAKI,WAAWpB,WAA0C,MAA9BgB,EAAKI,WAAWa,MAAMC,KAAchD,EAAG,MAAM,CAACM,YAAY,YAAYV,EAAIgC,GAAIE,EAAKI,WAAWa,MAAU,MAAE,SAASE,EAAOC,GAAS,OAAOlD,EAAG,IAAI,CAACgC,IAAIkB,EAAQhD,MAAM,CACzxC,YAAY,EACZ,YAAY,EACZ,gBAAiBN,EAAIqC,aAAagB,EAAOf,aACzC7B,MAAM,CAAC,KAAO4C,EAAOf,WAAWC,IAAI,OAAS,WAAW,CAACnC,EAAG,MAAM,CAACE,MAAM,CACvEkC,MAAM,EACN,YAAaxC,EAAIqC,aAAagB,EAAOf,cACpC,CAAClC,EAAG,MAAM,CAACM,YAAY,OAAO,CAACN,EAAG,MAAM,CAACM,YAAY,YAAY+B,MAAO,qBAAuBY,EAAOf,WAAWI,OAAQ,CAACtC,EAAG,MAAM,CAACM,YAAY,OAAOD,MAAM,CAAC,IAAMT,EAAI2C,QAAQU,EAAOf,WAAWM,MAAM,IAAM,GAAG,OAAS,QAAQxC,EAAG,aAAa,CAACK,MAAM,CAAC,KAAO,SAAS,CAAET,EAAc,WAAEI,EAAG,MAAM,CAACE,MAAM,CACvS,cAAc,EACd,aAAa,EACb,cAAc,EACd,eAAe,GACfK,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOiC,iBAAwB7C,EAAIuD,SAASF,MAAW,CAACjD,EAAG,OAAO,CAACM,YAAY,wBAAwBV,EAAI2B,QAAQ,GAAGvB,EAAG,OAAO,CAACM,YAAY,0BAA0Ba,SAAS,CAAC,YAAcvB,EAAI+B,GAAGsB,EAAOf,WAAWS,YAAa/C,EAAIqC,aAAagB,EAAOf,YAAalC,EAAG,MAAM,CAACM,YAAY,iBAAiBV,EAAIgC,GAAIqB,EAAOf,WAAWU,SAAa,MAAE,SAASC,EAAOC,GAAS,OAAO9C,EAAG,IAAI,CAACgC,IAAIc,EAAQxC,YAAY,eAAeD,MAAM,CAAC,KAAOwC,EAAOX,WAAWC,IAAI,OAAS,WAAW,CAACnC,EAAG,OAAO,CAACM,YAAY,0BAA0Ba,SAAS,CAAC,YAAcvB,EAAI+B,GAAGkB,EAAOX,WAAWS,eAAc,GAAG/C,EAAI2B,UAAS,GAAG3B,EAAI2B,WAAU,IAC9pB6B,EAAkB,GCsKP,G,oBAAA,CACbtC,KAAMA,aACNuC,WAAYA,GACZL,KAHF,WAII,MAAO,CACLnB,KAAMA,CACJyB,UAAWA,CACnB,CACUX,MAAVA,MACUL,MAAVA,GACUE,KAAVA,GACUL,IAAVA,KAGQoB,OAAQA,IAEVnD,eAAeA,EACfsB,YAAYA,EACZT,QAANA,CACQ0B,MAARA,GACQL,MAARA,GACQE,KAARA,GACQL,IAARA,GACQS,SAARA,CACUI,KAAVA,OAKEQ,SAAUA,CACRC,WAAYA,WACV,OAAO5D,KAAK6D,OAAOC,QAAQC,UAG/BC,MAAOA,CACLhC,KADJ,WAEMhC,KAAK6D,OAAOI,OAAO,UAAWjE,KAAKgC,QAGvCkC,QAASA,CACP9B,aADJ,SACA5B,GACM,IACE,YAAR,uBAIA,SAEQ,OADA2D,QAAQA,IAAIA,IACL,IAGX1C,YAZJ,WAaM,IAAN,GACQ2C,GAARA,WACQ/B,WAARA,8BAEM8B,QAAQA,IAAIA,GACZnE,KAAKgC,KAAKyB,UAAUY,QAAQC,GAC5BtE,KAAKoB,QAAQ0B,MAAQ,GACrB9C,KAAKoB,QAAQkB,IAAM,GACnBtC,KAAKoB,QAAQuB,KAAO,GACpB3C,KAAKoB,QAAQqB,MAAQ,GACrBzC,KAAKO,eAAgB,GAEvBoB,WAzBJ,WA0BM3B,KAAK6B,WAAa,KAAxB,kCAEIf,QA5BJ,WA6BMd,KAAKO,cACX,sBACA,uBAEIgE,cAjCJ,WAiCA,WACM,IACEvE,KAAKwE,KACbC,IACA,oFAEAC,MAAA,YAEU,EAAV,2BAEA,SACQP,QAAQA,IAAIA,KAGhBzB,QA/CJ,SA+CAC,GACM,IACE,IAAR,wBACQ,MAAO,8BAAgCL,EAC/C,SAGQ,OAAO,EAAQ,UAGnBgB,SAzDJ,SAyDArB,GACMjC,KAAKgC,KAAKyB,UAAUY,QAAQpC,GAC5BjC,KAAK2E,cAEP9B,YA7DJ,SA6DAX,GACMlC,KAAKgC,KAAKyB,UAAUmB,OAAO1C,EAAO,GAClClC,KAAK2E,cAEPA,WAjEJ,WAiEA,WACME,YAAWA,WACT,EAAR,kCACA,IAEIC,UAtEJ,SAsEAC,GACM,IAAN,oBACA,gBACM,OAAOC,IAGXC,QAnHF,aAoHEC,QApHF,WAqHIlF,KAAKgC,KAAOhC,KAAK4D,WACjB5D,KAAKuE,iBAEPY,cAxHF,eCnMoV,I,4CCUhVC,EAAY,eACd,EACAtF,EACAyD,GACA,EACA,KACA,WACA,MAIa,aAAA6B,E,sECrBf,W,kCCAA,W","file":"js/navigation.1924b218.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!./window.css?vue&type=style&index=1&id=13d5eea0&lang=css&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ navigation: true, 'common-page': true, 'mask-on': _vm.addWindowShow }},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.addWindowShow)?_c('div',{staticClass:\"general-window-mask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showAdd()}}},[_c('div',{staticClass:\"general-window\"},[_c('span',{staticClass:\"header-title\"},[_vm._v(\"添加网址\")]),_c('span',{staticClass:\"tip\"},[_vm._v(\"名称\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.title),expression:\"editing.title\"}],attrs:{\"type\":\"text\",\"name\":\"title\",\"id\":\"title\",\"placeholder\":\"名称\"},domProps:{\"value\":(_vm.editing.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"title\", $event.target.value)}}}),_c('span',{staticClass:\"tip\"},[_vm._v(\"URL\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.url),expression:\"editing.url\"}],attrs:{\"type\":\"text\",\"name\":\"url\",\"id\":\"url\",\"placeholder\":\"URL\"},domProps:{\"value\":(_vm.editing.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"url\", $event.target.value)}}}),_c('span',{staticClass:\"tip\"},[_vm._v(\"图标\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.icon),expression:\"editing.icon\"}],attrs:{\"type\":\"text\",\"name\":\"icon\",\"id\":\"icon\",\"placeholder\":\"图标URL\"},domProps:{\"value\":(_vm.editing.icon)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"icon\", $event.target.value)}}}),_c('span',{staticClass:\"tip\"},[_vm._v(\"主色调\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.color),expression:\"editing.color\"}],attrs:{\"type\":\"text\",\"name\":\"color\",\"id\":\"icon\",\"placeholder\":\"格式:#AABBCC\"},domProps:{\"value\":(_vm.editing.color)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"color\", $event.target.value)}}}),_c('button',{staticClass:\"submit-button\",on:{\"click\":function($event){return _vm.addNewFavor()}}},[_vm._v(\"提交\")])])]):_vm._e()]),_c('div',{staticClass:\"list-header\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"我的收藏\")]),_c('button',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.showModify()}}},[_c('span',{class:{\n          iconfont: true,\n          'icon-edit-2': !_vm.modifyShow,\n          'icon-check': _vm.modifyShow,\n        }}),_c('span',{staticClass:\"tip\"},[_vm._v(_vm._s(!_vm.modifyShow?'编辑':'完成'))])])]),_c('div',{staticClass:\"nav-list\"},[_vm._l((_vm.navs.favorites),function(item,index){return _c('a',{key:index,class:{\n        'nav-item': true,\n        'ef-float': true,\n        'nav-item-wide': _vm.testSubsites(item.attributes),\n      },attrs:{\"href\":item.attributes.url,\"target\":\"_blank\"}},[_c('div',{class:{\n          left: true,\n          'left-wide': _vm.testSubsites(item.attributes),\n        }},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"icon-area\",style:('background-color: ' + item.attributes.color)},[_c('img',{staticClass:\"icon\",attrs:{\"src\":_vm.getIcon(item.attributes.icon),\"alt\":\"\",\"srcset\":\"\"}})]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.modifyShow)?_c('div',{class:{\n                'btn-modify': true,\n                'remove-favor': true,\n                'ef-pudding': true,\n                'icon-button': true,\n              },on:{\"click\":function($event){$event.preventDefault();return _vm.removeFavor(index)}}},[_c('span',{staticClass:\"iconfont icon-trash\"})]):_vm._e()])],1),_c('span',{staticClass:\"title fix-text-overflow\",domProps:{\"textContent\":_vm._s(item.attributes.title)}})]),(_vm.testSubsites(item.attributes))?_c('div',{staticClass:\"subsites-list\"},_vm._l((item.attributes.subsites.data),function(item_2,index_2){return _c('a',{key:index_2,staticClass:\"subsite-item\",attrs:{\"href\":item_2.attributes.url,\"target\":\"_blank\"}},[_c('span',{staticClass:\"title fix-text-overflow\",domProps:{\"textContent\":_vm._s(item_2.attributes.title)}})])}),0):_vm._e()])}),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.modifyShow)?_c('div',{staticClass:\"nav-item ef-float add-nav\",on:{\"click\":function($event){return _vm.showAdd()}}},[_c('span',{staticClass:\"iconfont icon-add\"}),_c('span',{staticClass:\"tip\"},[_vm._v(\"自定义\")])]):_vm._e()])],2),_vm._l((_vm.navs.others),function(item,index){return _c('div',{key:index,staticClass:\"nav-block\"},[_c('div',{staticClass:\"list-header\"},[_c('span',{staticClass:\"title\",domProps:{\"textContent\":_vm._s(item.attributes.name)}})]),(item.attributes.sites.data != null)?_c('div',{staticClass:\"nav-list\"},_vm._l((item.attributes.sites.data),function(item_1,index_1){return _c('a',{key:index_1,class:{\n          'nav-item': true,\n          'ef-float': true,\n          'nav-item-wide': _vm.testSubsites(item_1.attributes),\n        },attrs:{\"href\":item_1.attributes.url,\"target\":\"_blank\"}},[_c('div',{class:{\n            left: true,\n            'left-wide': _vm.testSubsites(item_1.attributes),\n          }},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"icon-area\",style:('background-color: ' + item_1.attributes.color)},[_c('img',{staticClass:\"icon\",attrs:{\"src\":_vm.getIcon(item_1.attributes.icon),\"alt\":\"\",\"srcset\":\"\"}})]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.modifyShow)?_c('div',{class:{\n                  'btn-modify': true,\n                  'add-favor': true,\n                  'ef-pudding': true,\n                  'icon-button': true,\n                },on:{\"click\":function($event){$event.preventDefault();return _vm.addFavor(item_1)}}},[_c('span',{staticClass:\"iconfont icon-add\"})]):_vm._e()])],1),_c('span',{staticClass:\"title fix-text-overflow\",domProps:{\"textContent\":_vm._s(item_1.attributes.title)}})]),(_vm.testSubsites(item_1.attributes))?_c('div',{staticClass:\"subsites-list\"},_vm._l((item_1.attributes.subsites.data),function(item_2,index_2){return _c('a',{key:index_2,staticClass:\"subsite-item\",attrs:{\"href\":item_2.attributes.url,\"target\":\"_blank\"}},[_c('span',{staticClass:\"title fix-text-overflow\",domProps:{\"textContent\":_vm._s(item_2.attributes.title)}})])}),0):_vm._e()])}),0):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :class=\"{ navigation: true, 'common-page': true, 'mask-on': addWindowShow }\"\n  >\n    <transition name=\"fade\">\n      <div\n        class=\"general-window-mask\"\n        v-if=\"addWindowShow\"\n        @click.self=\"showAdd()\"\n      >\n        <div class=\"general-window\">\n          <span class=\"header-title\">添加网址</span>\n          <span class=\"tip\">名称</span>\n          <input type=\"text\" v-model=\"editing.title\" name=\"title\" id=\"title\" placeholder=\"名称\" />\n          <span class=\"tip\">URL</span>\n          <input type=\"text\" v-model=\"editing.url\" name=\"url\" id=\"url\" placeholder=\"URL\" />\n          <span class=\"tip\">图标</span>\n          <input type=\"text\" v-model=\"editing.icon\" name=\"icon\" id=\"icon\" placeholder=\"图标URL\" />\n          <span class=\"tip\">主色调</span>\n          <input type=\"text\" v-model=\"editing.color\" name=\"color\" id=\"icon\" placeholder=\"格式:#AABBCC\" />\n          <button class=\"submit-button\" @click=\"addNewFavor()\">提交</button>\n        </div>\n      </div>\n    </transition>\n    <div class=\"list-header\">\n      <span class=\"title\">我的收藏</span>\n      <button class=\"icon-button\" @click=\"showModify()\">\n        <span\n          :class=\"{\n            iconfont: true,\n            'icon-edit-2': !modifyShow,\n            'icon-check': modifyShow,\n          }\"\n        ></span>\n        <span class=\"tip\">{{!modifyShow?'编辑':'完成'}}</span>\n      </button>\n    </div>\n    <div class=\"nav-list\">\n      <a\n        :href=\"item.attributes.url\"\n        target=\"_blank\"\n        :class=\"{\n          'nav-item': true,\n          'ef-float': true,\n          'nav-item-wide': testSubsites(item.attributes),\n        }\"\n        v-for=\"(item, index) in navs.favorites\"\n        :key=\"index\"\n      >\n        <div\n          :class=\"{\n            left: true,\n            'left-wide': testSubsites(item.attributes),\n          }\"\n        >\n          <div class=\"top\">\n            <div\n              class=\"icon-area\"\n              :style=\"'background-color: ' + item.attributes.color\"\n            >\n              <img\n                class=\"icon\"\n                :src=\"getIcon(item.attributes.icon)\"\n                alt=\"\"\n                srcset=\"\"\n              />\n            </div>\n            <transition name=\"fade\">\n              <div\n                :class=\"{\n                  'btn-modify': true,\n                  'remove-favor': true,\n                  'ef-pudding': true,\n                  'icon-button': true,\n                }\"\n                @click.prevent=\"removeFavor(index)\"\n                v-if=\"modifyShow\"\n              >\n                <span class=\"iconfont icon-trash\"></span>\n              </div>\n            </transition>\n          </div>\n\n          <span\n            class=\"title fix-text-overflow\"\n            v-text=\"item.attributes.title\"\n          ></span>\n        </div>\n        <div\n          class=\"subsites-list\"\n          v-if=\"testSubsites(item.attributes)\"\n        >\n          <a\n            :href=\"item_2.attributes.url\"\n            target=\"_blank\"\n            class=\"subsite-item\"\n            v-for=\"(item_2, index_2) in item.attributes.subsites.data\"\n            :key=\"index_2\"\n          >\n            <span\n              class=\"title fix-text-overflow\"\n              v-text=\"item_2.attributes.title\"\n            ></span>\n          </a>\n        </div>\n      </a>\n      <transition name=\"fade\">\n        <div\n          class=\"nav-item ef-float add-nav\"\n          @click=\"showAdd()\"\n          v-if=\"modifyShow\"\n        >\n          <span class=\"iconfont icon-add\"></span>\n          <span class=\"tip\">自定义</span>\n        </div>\n      </transition>\n    </div>\n    <div class=\"nav-block\" v-for=\"(item, index) in navs.others\" :key=\"index\">\n      <div class=\"list-header\">\n        <span class=\"title\" v-text=\"item.attributes.name\"></span>\n      </div>\n      <div class=\"nav-list\" v-if=\"item.attributes.sites.data != null\">\n        <a\n          :href=\"item_1.attributes.url\"\n          target=\"_blank\"\n          :class=\"{\n            'nav-item': true,\n            'ef-float': true,\n            'nav-item-wide': testSubsites(item_1.attributes),\n          }\"\n          v-for=\"(item_1, index_1) in item.attributes.sites.data\"\n          :key=\"index_1\"\n        >\n          <div\n            :class=\"{\n              left: true,\n              'left-wide': testSubsites(item_1.attributes),\n            }\"\n          >\n            <div class=\"top\">\n              <div\n                class=\"icon-area\"\n                :style=\"'background-color: ' + item_1.attributes.color\"\n              >\n                <img\n                  class=\"icon\"\n                  :src=\"getIcon(item_1.attributes.icon)\"\n                  alt=\"\"\n                  srcset=\"\"\n                />\n              </div>\n              <transition name=\"fade\">\n                <div\n                  :class=\"{\n                    'btn-modify': true,\n                    'add-favor': true,\n                    'ef-pudding': true,\n                    'icon-button': true,\n                  }\"\n                  v-if=\"modifyShow\"\n                  @click.prevent=\"addFavor(item_1)\"\n                >\n                  <span class=\"iconfont icon-add\"></span>\n                </div>\n              </transition>\n            </div>\n            <span\n              class=\"title fix-text-overflow\"\n              v-text=\"item_1.attributes.title\"\n            ></span>\n          </div>\n          <div\n            class=\"subsites-list\"\n            v-if=\"testSubsites(item_1.attributes)\"\n          >\n            <a\n              :href=\"item_2.attributes.url\"\n              target=\"_blank\"\n              class=\"subsite-item\"\n              v-for=\"(item_2, index_2) in item_1.attributes.subsites.data\"\n              :key=\"index_2\"\n            >\n              <span\n                class=\"title fix-text-overflow\"\n                v-text=\"item_2.attributes.title\"\n              ></span>\n            </a>\n          </div>\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Navigation\",\n  components: {},\n  data() {\n    return {\n      navs: {\n        favorites: [\n          {\n            title: \"加载中\",\n            color: \"\",\n            icon: \"\",\n            url: \"\",\n          },\n        ],\n        others: [],\n      },\n      addWindowShow: false,\n      modifyShow: false,\n      editing:{\n            title: \"\",\n            color: \"\",\n            icon: \"\",\n            url: \"\",\n            subsites:{\n              data:[]\n            }\n      },\n    };\n  },\n  computed: {\n    remoteNavs: function () {\n      return this.$store.getters.getNavs;\n    },\n  },\n  watch: {\n    navs() {\n      this.$store.commit(\"setNavs\", this.navs);\n    },\n  },\n  methods: {\n    testSubsites(attrs){\n      try {\n        if(attrs.subsites.data[0] !== undefined)\n          return true;\n        else\n          return false;\n      } catch (error) {\n        console.log(error);\n        return false;\n      }\n    },\n    addNewFavor(){\n      const model = {\n        id:Date.now(),\n        attributes:this.deepClone(this.editing)\n      };\n      console.log(model);\n      this.navs.favorites.unshift(model);\n      this.editing.title = \"\";\n      this.editing.url = \"\";\n      this.editing.icon = \"\";\n      this.editing.color = \"\";\n      this.addWindowShow = false;\n    },\n    showModify() {\n      this.modifyShow ? (this.modifyShow = false) : (this.modifyShow = true);\n    },\n    showAdd() {\n      this.addWindowShow\n        ? (this.addWindowShow = false)\n        : (this.addWindowShow = true);\n    },\n    getRemoteNavs() {\n      try {\n        this.$api\n          .get(\n            \"/collections?populate[0]=sites&populate[1]=sites.icon&populate[2]=sites.subsites\"\n          )\n          .then((response) => {\n            // console.log(response.data.data);\n            this.navs.others = response.data.data;\n          });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    getIcon(icon) {\n      try {\n        let url = icon.data.attributes.url;\n        return \"http://navapi.mercutio.club\" + url;\n      } catch (error) {\n        // console.log(error);\n        // console.log(icon);\n        return require(\"@/assets/images/webpage.svg\");\n      }\n    },\n    addFavor(item) {\n      this.navs.favorites.unshift(item);\n      this.updateNavs();\n    },\n    removeFavor(index) {\n      this.navs.favorites.splice(index, 1);\n      this.updateNavs();\n    },\n    updateNavs() {\n      setTimeout(() => {\n        this.$store.commit(\"setNavs\", this.navs);\n      }, 5);\n    },\n    deepClone(obj) {\n      let _obj = JSON.stringify(obj);\n      let objClone = JSON.parse(_obj);\n      return objClone;\n    } \n  },\n  created() {},\n  mounted() {\n    this.navs = this.remoteNavs;\n    this.getRemoteNavs();\n  },\n  beforeDestroy() {},\n};\n</script>\n<style lang=\"css\" src=\"../styles/list.css\" scoped>\n</style>\n<style lang=\"css\" src=\"../styles/window.css\" scoped>\n</style>\n<style scoped>\n.navigation {\n  /* overflow: hidden; */\n}\n\n.nav-list {\n  display: grid;\n  gap: 10px;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  /* grid-auto-rows: minmax(33.33%, 100px); */\n}\n.nav-item {\n  display: flex;\n  align-items: flex-start;\n  justify-content: stretch;\n  border-radius: var(--card-radius);\n  background: var(--sub-card-color);\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border-width: 2px;\n  border-style: solid;\n  border-color: transparent;\n  color: var(--content-color);\n  padding: 10px;\n}\n.nav-item:hover {\n  background: var(--card-color);\n}\n.nav-item:active {\n  border-color: var(--accent-color);\n  background: var(--card-color);\n  box-shadow: 0 10px 20px 3px #00000024;\n  transform: translateY(-3px);\n}\n.nav-item-wide {\n  grid-column-start: span 2;\n}\n.nav-item .icon-area {\n  border-radius: var(--icon-radius);\n  /* width: 30px; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 50px;\n  height: 50px;\n}\n.nav-item .icon {\n  box-sizing: border-box;\n  padding: 7px;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n.nav-item .title {\n  font-size: 16px;\n}\n\n.subsites-list {\n  margin-left: 10px;\n  display: flex;\n  gap: 5px;\n  flex-wrap: wrap;\n}\n.subsite-item {\n  border-radius: var(--item-radius);\n  background: var(--card-color);\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border-width: 2px;\n  border-style: solid;\n  border-color: var(--sub-card-color);\n  color: var(--content-color);\n  padding: 10px;\n  box-sizing: border-box;\n}\n.subsite-item:hover {\n  background: var(--sub-card-color);\n}\n.subsite-item:active {\n  background-color: var(--accent-color);\n  color:#fff;\n  border-color: transparent;\n}\n.subsite-item .title {\n  font-size: 16px;\n}\n.top {\n  width: 100%;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: 10px;\n}\n.btn-modify {\n  padding: 5px 7px;\n  background: var(--card-color);\n  border-radius: var(--item-radius);\n  border: 2px solid var(--sub-card-color);\n}\n.btn-modify .iconfont{\n  font-size: 20px;\n}\n\n.btn-modify:hover {\n  background: var(--sub-card-color);\n  border-color: transparent;\n}\n.add-favor:active {\n  background: var(--accent-color);\n  color: #fff;\n}\n.remove-favor:active {\n  background: var(--warn-color);\n  color: #fff;\n}\n.add-nav {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.add-nav .iconfont {\n  font-size: 30px;\n}\n.mask-on {\n  height: calc(100vh - var(--head-height));\n  overflow: hidden;\n}\n.left {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  width: 100%;\n  gap: 10px;\n}\n.left-wide {\n  width: 50%;\n}\n/* list */\n.list-header {\n  padding: 10px 0 5px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  /* position: sticky; */\n  /* top:var(--head-height); */\n}\n.list-header .title {\n  font-weight: 900;\n  font-size: 20px;\n}\n.list-header .icon-button{\n  border: 2px solid var(--line-color);\n  display: flex;\n  justify-content: center;\n  gap:5px;\n}\n.list-header .icon-button:hover{\n  border-color: transparent;\n}\n.list-header .icon-button .iconfont{\n  font-size: 20px;\n}\n.list-header .icon-button .tip{\n  font-size: 14px;\n}\n\n.hide {\n  display: none;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navigation.vue?vue&type=template&id=13d5eea0&scoped=true&\"\nimport script from \"./Navigation.vue?vue&type=script&lang=js&\"\nexport * from \"./Navigation.vue?vue&type=script&lang=js&\"\nimport style0 from \"../styles/list.css?vue&type=style&index=0&id=13d5eea0&lang=css&scoped=true&\"\nimport style1 from \"../styles/window.css?vue&type=style&index=1&id=13d5eea0&lang=css&scoped=true&\"\nimport style2 from \"./Navigation.vue?vue&type=style&index=2&id=13d5eea0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13d5eea0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!./list.css?vue&type=style&index=0&id=13d5eea0&lang=css&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=style&index=2&id=13d5eea0&scoped=true&lang=css&\""],"sourceRoot":""}