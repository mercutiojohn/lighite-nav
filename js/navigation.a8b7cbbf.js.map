{"version":3,"sources":["webpack:///./src/styles/window.css?fdf6","webpack:///./src/views/Navigation.vue?354b","webpack:///src/views/Navigation.vue","webpack:///./src/views/Navigation.vue?8147","webpack:///./src/views/Navigation.vue","webpack:///./src/views/Navigation.vue?da03","webpack:///./src/styles/list.css?49fe"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","navigation","addWindowShow","bgPrepared","attrs","staticClass","on","$event","target","currentTarget","showAdd","_v","directives","name","rawName","value","editing","expression","domProps","composing","$set","addNewFavor","_e","showModify","iconfont","modifyShow","_s","_l","navs","item","index","key","testSubsites","attributes","url","left","style","color","icon","no_padding","getIcon","preventDefault","removeFavor","title","subsites","item_2","index_2","sites","data","item_1","index_1","addFavor","staticRenderFns","components","favorites","others","computed","remoteNavs","$store","getters","getNavs","getBgPrepared","watch","commit","methods","undefined","console","id","unshift","model","getRemoteNavs","$api","get","then","based","updateNavs","splice","setTimeout","deepClone","obj","objClone","created","mounted","beforeDestroy","component"],"mappings":"qIAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAC5GC,YAAY,EACZ,eAAe,EACf,UAAWP,EAAIQ,cACf,sBAAuBR,EAAIS,aAC1B,CAACL,EAAG,aAAa,CAACM,MAAM,CAAC,KAAO,SAAS,CAAEV,EAAiB,cAAEI,EAAG,MAAM,CAACO,YAAY,sBAAsBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAGA,EAAOC,SAAWD,EAAOE,cAAuB,KAAcf,EAAIgB,aAAa,CAACZ,EAAG,MAAM,CAACO,YAAY,kBAAkB,CAACP,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,OAAO,CAACO,YAAY,SAAS,CAACX,EAAIiB,GAAG,YAAYb,EAAG,OAAO,CAACO,YAAY,OAAO,CAACX,EAAIiB,GAAG,QAAQb,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOrB,EAAIsB,QAAa,MAAEC,WAAW,kBAAkBZ,YAAY,eAAeD,MAAM,CAAC,KAAO,OAAO,KAAO,QAAQ,GAAK,QAAQ,YAAc,MAAMc,SAAS,CAAC,MAASxB,EAAIsB,QAAa,OAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOW,WAAqBzB,EAAI0B,KAAK1B,EAAIsB,QAAS,QAAST,EAAOC,OAAOO,WAAWjB,EAAG,OAAO,CAACO,YAAY,OAAO,CAACX,EAAIiB,GAAG,SAASb,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOrB,EAAIsB,QAAW,IAAEC,WAAW,gBAAgBZ,YAAY,eAAeD,MAAM,CAAC,KAAO,OAAO,KAAO,MAAM,GAAK,MAAM,YAAc,OAAOc,SAAS,CAAC,MAASxB,EAAIsB,QAAW,KAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOW,WAAqBzB,EAAI0B,KAAK1B,EAAIsB,QAAS,MAAOT,EAAOC,OAAOO,WAAWjB,EAAG,SAAS,CAACO,YAAY,2BAA2BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI2B,iBAAiB,CAAC3B,EAAIiB,GAAG,cAAcjB,EAAI4B,OAAOxB,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,OAAO,CAACO,YAAY,SAAS,CAACX,EAAIiB,GAAG,UAAUb,EAAG,SAAS,CAACO,YAAY,cAAcC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI6B,gBAAgB,CAACzB,EAAG,OAAO,CAACE,MAAM,CAC99CwB,UAAU,EACV,eAAgB9B,EAAI+B,WACpB,aAAc/B,EAAI+B,cAChB3B,EAAG,OAAO,CAACO,YAAY,OAAO,CAACX,EAAIiB,GAAGjB,EAAIgC,GAAIhC,EAAI+B,WAAoB,KAAP,aAAoB3B,EAAG,MAAM,CAACO,YAAY,YAAY,CAACX,EAAIiC,GAAIjC,EAAIkC,KAAc,WAAE,SAASC,EAAKC,GAAO,OAAOhC,EAAG,IAAI,CAACiC,IAAID,EAAM9B,MAAM,CAC1M,YAAY,EACZ,YAAY,EACZ,mBAAmBN,EAAIS,WACvB,gBAAiBT,EAAIsC,aAAaH,EAAKI,aACvC7B,MAAM,CAAC,KAAOyB,EAAKI,WAAWC,IAAI,OAAS,WAAW,CAACpC,EAAG,MAAM,CAACE,MAAM,CACrEmC,MAAM,EACN,YAAazC,EAAIsC,aAAaH,EAAKI,cAClC,CAACnC,EAAG,MAAM,CAACO,YAAY,OAAO,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY+B,MAAO,qBAAuBP,EAAKI,WAAWI,OAAQ,CAACvC,EAAG,MAAM,CAACE,MAAM,CACnIsC,MAAM,EACN,kBAAmBT,EAAKI,WAAWM,YACnCnC,MAAM,CAAC,IAAMV,EAAI8C,QAAQX,GAAM,IAAM,GAAG,OAAS,QAAQ/B,EAAG,aAAa,CAACM,MAAM,CAAC,KAAO,SAAS,CAAEV,EAAc,WAAEI,EAAG,MAAM,CAACE,MAAM,CACnI,cAAc,EACd,gBAAgB,EAChB,cAAc,EACd,eAAe,GACfM,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOkC,iBAAwB/C,EAAIgD,YAAYZ,MAAU,CAAChC,EAAG,OAAO,CAACO,YAAY,0BAA0BX,EAAI4B,QAAQ,GAAGxB,EAAG,OAAO,CAACO,YAAY,0BAA0Ba,SAAS,CAAC,YAAcxB,EAAIgC,GAAGG,EAAKI,WAAWU,YAAajD,EAAIsC,aAAaH,EAAKI,YAAanC,EAAG,MAAM,CAACO,YAAY,iBAAiBX,EAAIiC,GAAIE,EAAKI,WAAWW,SAAa,MAAE,SAASC,EAAOC,GAAS,OAAOhD,EAAG,IAAI,CAACiC,IAAIe,EAAQ9C,MAAM,CACnb,gBAAgB,EAChB,uBAAwBN,EAAIS,YAC5BC,MAAM,CAAC,KAAOyC,EAAOZ,WAAWC,IAAI,OAAS,WAAW,CAACpC,EAAG,OAAO,CAACO,YAAY,0BAA0Ba,SAAS,CAAC,YAAcxB,EAAIgC,GAAGmB,EAAOZ,WAAWU,eAAc,GAAGjD,EAAI4B,UAASxB,EAAG,aAAa,CAACM,MAAM,CAAC,KAAO,SAAS,CAAEV,EAAc,WAAEI,EAAG,MAAM,CAACO,YAAY,4BAA4BC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIgB,aAAa,CAACZ,EAAG,OAAO,CAACO,YAAY,sBAAsBP,EAAG,OAAO,CAACO,YAAY,OAAO,CAACX,EAAIiB,GAAG,WAAWjB,EAAI4B,QAAQ,GAAG5B,EAAIiC,GAAIjC,EAAIkC,KAAW,QAAE,SAASC,EAAKC,GAAO,OAAOhC,EAAG,MAAM,CAACiC,IAAID,EAAMzB,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,OAAO,CAACO,YAAY,QAAQa,SAAS,CAAC,YAAcxB,EAAIgC,GAAGG,EAAKI,WAAWpB,WAA0C,MAA9BgB,EAAKI,WAAWc,MAAMC,KAAclD,EAAG,MAAM,CAACO,YAAY,YAAYX,EAAIiC,GAAIE,EAAKI,WAAWc,MAAU,MAAE,SAASE,EAAOC,GAAS,OAAOpD,EAAG,IAAI,CAACiC,IAAImB,EAAQlD,MAAM,CACj1B,YAAY,EACZ,YAAY,EACZ,mBAAoBN,EAAIS,WACxB,gBAAiBT,EAAIsC,aAAaiB,EAAOhB,aACzC7B,MAAM,CAAC,KAAO6C,EAAOhB,WAAWC,IAAI,OAAS,WAAW,CAACpC,EAAG,MAAM,CAACE,MAAM,CACvEmC,MAAM,EACN,YAAazC,EAAIsC,aAAaiB,EAAOhB,cACpC,CAACnC,EAAG,MAAM,CAACO,YAAY,OAAO,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY+B,MAAO,qBAAuBa,EAAOhB,WAAWI,OAAQ,CAACvC,EAAG,MAAM,CAACE,MAAM,CACrIsC,MAAM,EACN,kBAAmBW,EAAOhB,WAAWM,YACrCnC,MAAM,CAAC,IAAMV,EAAI8C,QAAQS,GAAQ,IAAM,GAAG,OAAS,QAAQnD,EAAG,aAAa,CAACM,MAAM,CAAC,KAAO,SAAS,CAAEV,EAAc,WAAEI,EAAG,MAAM,CAACE,MAAM,CACrI,cAAc,EACd,aAAa,EACb,cAAc,EACd,eAAe,GACfM,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOkC,iBAAwB/C,EAAIyD,SAASF,MAAW,CAACnD,EAAG,OAAO,CAACO,YAAY,wBAAwBX,EAAI4B,QAAQ,GAAGxB,EAAG,OAAO,CAACO,YAAY,0BAA0Ba,SAAS,CAAC,YAAcxB,EAAIgC,GAAGuB,EAAOhB,WAAWU,YAAajD,EAAIsC,aAAaiB,EAAOhB,YAAanC,EAAG,MAAM,CAACO,YAAY,iBAAiBX,EAAIiC,GAAIsB,EAAOhB,WAAWW,SAAa,MAAE,SAASC,EAAOC,GAAS,OAAOhD,EAAG,IAAI,CAACiC,IAAIe,EAAQ9C,MAAM,CACrb,gBAAgB,EAChB,uBAAwBN,EAAIS,YAC5BC,MAAM,CAAC,KAAOyC,EAAOZ,WAAWC,IAAI,OAAS,WAAW,CAACpC,EAAG,OAAO,CAACO,YAAY,0BAA0Ba,SAAS,CAAC,YAAcxB,EAAIgC,GAAGmB,EAAOZ,WAAWU,eAAc,GAAGjD,EAAI4B,UAAS,GAAG5B,EAAI4B,WAAU,IACpN8B,EAAkB,GC8LP,G,wCAAA,CACbvC,KAAMA,aACNwC,WAAYA,GACZL,KAHF,WAII,MAAO,CACLpB,KAAMA,CACJ0B,UAAWA,CACnB,CACUX,MAAVA,MACUN,MAAVA,GACUC,KAAVA,GACUJ,IAAVA,KAGQqB,OAAQA,IAEVrD,eAAeA,EACfuB,YAAYA,EACZT,QAASA,CACP2B,MAAOA,GACPN,MAAOA,UACPC,KAAMA,GACNJ,IAAKA,GACLU,SAAUA,CACRI,KAAMA,OAKdQ,SAAUA,CACRC,WAAYA,WACV,OAAO9D,KAAK+D,OAAOC,QAAQC,SAE7BzD,WAAYA,WACV,OAAOR,KAAK+D,OAAOC,QAAQE,gBAG/BC,MAAOA,CACLlC,KADJ,WAEMjC,KAAK+D,OAAOK,OAAO,UAAWpE,KAAKiC,QAGvCoC,QAASA,CACPhC,aADJ,SACA5B,GACM,IACE,YAA+B6D,IAA3B7D,EAAMwC,SAASI,KAAK,GAEhC,SAEQ,OADAkB,QAAQA,IAAIA,IACL,IAGX7C,YAVJ,WAWM,IAAN,GACQ8C,GAAIA,KAAKA,MACTlC,WAAYA,KAAKA,UAAUA,KAAKA,UAElCiC,QAAQA,IAAIA,GACZvE,KAAKiC,KAAK0B,UAAUc,QAAQC,GAC5B1E,KAAKqB,QAAQ2B,MAAQ,GACrBhD,KAAKqB,QAAQkB,IAAM,GACnBvC,KAAKqB,QAAQsB,KAAO,GACpB3C,KAAKqB,QAAQqB,MAAQ,GACrB1C,KAAKO,eAAgB,GAEvBqB,WAvBJ,WAwBM5B,KAAK8B,WAAa,KAAxB,kCAEIf,QA1BJ,WA2BMf,KAAKO,cACX,sBACA,uBAEIoE,cA/BJ,WA+BA,WACM,IACE3E,KAAK4E,KACbC,IACA,oFAEAC,MAAA,YAEU,EAAV,2BAEA,SACQP,QAAQA,IAAIA,KAGhB1B,QA7CJ,SA6CAF,GACM,IACE,IAAR,wCACQ,MAAO,8BAAgCJ,EAC/C,SACQ,IAAR,sKACAI,4CADA,aAEAA,8BAFA,qBAGA,8CACQ,OAAOoC,IAGXvB,SAzDJ,SAyDAtB,GACMlC,KAAKiC,KAAK0B,UAAUc,QAAQvC,GAC5BlC,KAAKgF,cAEPjC,YA7DJ,SA6DAZ,GACMnC,KAAKiC,KAAK0B,UAAUsB,OAAO9C,EAAO,GAClCnC,KAAKgF,cAEPA,WAjEJ,WAiEA,WACME,YAAWA,WACT,EAAR,kCACA,IAEIC,UAtEJ,SAsEAC,GACM,IAAN,oBACA,gBACM,OAAOC,IAGXC,QAtHF,aAuHEC,QAvHF,WAwHIvF,KAAKiC,KAAOjC,KAAK8D,WACjB9D,KAAK2E,iBAEPa,cA3HF,eC9OoV,I,4CCUhVC,EAAY,eACd,EACA3F,EACA2D,GACA,EACA,KACA,WACA,MAIa,aAAAgC,E,sECrBf,W,yDCAA","file":"js/navigation.a8b7cbbf.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!./window.css?vue&type=style&index=1&id=4a0844ca&lang=css&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    navigation: true,\n    'common-page': true,\n    'mask-on': _vm.addWindowShow,\n    'common-page-blurred': _vm.bgPrepared,\n  }},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.addWindowShow)?_c('div',{staticClass:\"general-window-mask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showAdd()}}},[_c('div',{staticClass:\"general-window\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"添加网址\")])]),_c('span',{staticClass:\"tip\"},[_vm._v(\"名称\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.title),expression:\"editing.title\"}],staticClass:\"better-input\",attrs:{\"type\":\"text\",\"name\":\"title\",\"id\":\"title\",\"placeholder\":\"名称\"},domProps:{\"value\":(_vm.editing.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"title\", $event.target.value)}}}),_c('span',{staticClass:\"tip\"},[_vm._v(\"URL\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editing.url),expression:\"editing.url\"}],staticClass:\"better-input\",attrs:{\"type\":\"text\",\"name\":\"url\",\"id\":\"url\",\"placeholder\":\"URL\"},domProps:{\"value\":(_vm.editing.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editing, \"url\", $event.target.value)}}}),_c('button',{staticClass:\"submit-button ef-pudding\",on:{\"click\":function($event){return _vm.addNewFavor()}}},[_vm._v(\" 提交 \")])])]):_vm._e()]),_c('div',{staticClass:\"list-header\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"我的收藏\")]),_c('button',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.showModify()}}},[_c('span',{class:{\n          iconfont: true,\n          'icon-edit-2': !_vm.modifyShow,\n          'icon-check': _vm.modifyShow,\n        }}),_c('span',{staticClass:\"tip\"},[_vm._v(_vm._s(!_vm.modifyShow ? \"编辑\" : \"完成\"))])])]),_c('div',{staticClass:\"nav-list\"},[_vm._l((_vm.navs.favorites),function(item,index){return _c('a',{key:index,class:{\n        'nav-item': true,\n        'ef-float': true,\n        'nav-item-blurred':_vm.bgPrepared,\n        'nav-item-wide': _vm.testSubsites(item.attributes),\n      },attrs:{\"href\":item.attributes.url,\"target\":\"_blank\"}},[_c('div',{class:{\n          left: true,\n          'left-wide': _vm.testSubsites(item.attributes),\n        }},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"icon-area\",style:('background-color: ' + item.attributes.color)},[_c('img',{class:{\n                icon: true,\n                'icon-no-padding': item.attributes.no_padding,\n              },attrs:{\"src\":_vm.getIcon(item),\"alt\":\"\",\"srcset\":\"\"}})]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.modifyShow)?_c('div',{class:{\n                'btn-modify': true,\n                'remove-favor': true,\n                'ef-pudding': true,\n                'icon-button': true,\n              },on:{\"click\":function($event){$event.preventDefault();return _vm.removeFavor(index)}}},[_c('span',{staticClass:\"iconfont icon-trash\"})]):_vm._e()])],1),_c('span',{staticClass:\"title fix-text-overflow\",domProps:{\"textContent\":_vm._s(item.attributes.title)}})]),(_vm.testSubsites(item.attributes))?_c('div',{staticClass:\"subsites-list\"},_vm._l((item.attributes.subsites.data),function(item_2,index_2){return _c('a',{key:index_2,class:{\n            'subsite-item': true,\n            'subsite-item-blurred': _vm.bgPrepared,\n          },attrs:{\"href\":item_2.attributes.url,\"target\":\"_blank\"}},[_c('span',{staticClass:\"title fix-text-overflow\",domProps:{\"textContent\":_vm._s(item_2.attributes.title)}})])}),0):_vm._e()])}),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.modifyShow)?_c('div',{staticClass:\"nav-item ef-float add-nav\",on:{\"click\":function($event){return _vm.showAdd()}}},[_c('span',{staticClass:\"iconfont icon-add\"}),_c('span',{staticClass:\"tip\"},[_vm._v(\"自定义\")])]):_vm._e()])],2),_vm._l((_vm.navs.others),function(item,index){return _c('div',{key:index,staticClass:\"nav-block\"},[_c('div',{staticClass:\"list-header\"},[_c('span',{staticClass:\"title\",domProps:{\"textContent\":_vm._s(item.attributes.name)}})]),(item.attributes.sites.data != null)?_c('div',{staticClass:\"nav-list\"},_vm._l((item.attributes.sites.data),function(item_1,index_1){return _c('a',{key:index_1,class:{\n          'nav-item': true,\n          'ef-float': true,\n          'nav-item-blurred': _vm.bgPrepared,\n          'nav-item-wide': _vm.testSubsites(item_1.attributes),\n        },attrs:{\"href\":item_1.attributes.url,\"target\":\"_blank\"}},[_c('div',{class:{\n            left: true,\n            'left-wide': _vm.testSubsites(item_1.attributes),\n          }},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"icon-area\",style:('background-color: ' + item_1.attributes.color)},[_c('img',{class:{\n                  icon: true,\n                  'icon-no-padding': item_1.attributes.no_padding,\n                },attrs:{\"src\":_vm.getIcon(item_1),\"alt\":\"\",\"srcset\":\"\"}})]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.modifyShow)?_c('div',{class:{\n                  'btn-modify': true,\n                  'add-favor': true,\n                  'ef-pudding': true,\n                  'icon-button': true,\n                },on:{\"click\":function($event){$event.preventDefault();return _vm.addFavor(item_1)}}},[_c('span',{staticClass:\"iconfont icon-add\"})]):_vm._e()])],1),_c('span',{staticClass:\"title fix-text-overflow\",domProps:{\"textContent\":_vm._s(item_1.attributes.title)}})]),(_vm.testSubsites(item_1.attributes))?_c('div',{staticClass:\"subsites-list\"},_vm._l((item_1.attributes.subsites.data),function(item_2,index_2){return _c('a',{key:index_2,class:{\n              'subsite-item': true,\n              'subsite-item-blurred': _vm.bgPrepared,\n            },attrs:{\"href\":item_2.attributes.url,\"target\":\"_blank\"}},[_c('span',{staticClass:\"title fix-text-overflow\",domProps:{\"textContent\":_vm._s(item_2.attributes.title)}})])}),0):_vm._e()])}),0):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :class=\"{\n      navigation: true,\n      'common-page': true,\n      'mask-on': addWindowShow,\n      'common-page-blurred': bgPrepared,\n    }\"\n  >\n    <transition name=\"fade\">\n      <div\n        class=\"general-window-mask\"\n        v-if=\"addWindowShow\"\n        @click.self=\"showAdd()\"\n      >\n        <div class=\"general-window\">\n          <div class=\"header\"><span class=\"title\">添加网址</span></div>\n          <span class=\"tip\">名称</span>\n          <input\n            type=\"text\"\n            v-model=\"editing.title\"\n            name=\"title\"\n            id=\"title\"\n            class=\"better-input\"\n            placeholder=\"名称\"\n          />\n          <span class=\"tip\">URL</span>\n          <input\n            type=\"text\"\n            v-model=\"editing.url\"\n            name=\"url\"\n            id=\"url\"\n            class=\"better-input\"\n            placeholder=\"URL\"\n          />\n          <!-- <span class=\"tip\">图标</span>\n          <input\n            type=\"text\"\n            v-model=\"editing.icon\"\n            name=\"icon\"\n            id=\"icon\"\n            class=\"better-input\"\n            placeholder=\"图标URL\"\n          />\n          <span class=\"tip\">主色调</span>\n          <input\n            type=\"text\"\n            v-model=\"editing.color\"\n            name=\"color\"\n            id=\"icon\"\n            class=\"better-input\"\n            placeholder=\"格式:#AABBCC\"\n          /> -->\n          <button class=\"submit-button ef-pudding\" @click=\"addNewFavor()\">\n            提交\n          </button>\n        </div>\n      </div>\n    </transition>\n    <div class=\"list-header\">\n      <span class=\"title\">我的收藏</span>\n      <button class=\"icon-button\" @click=\"showModify()\">\n        <span\n          :class=\"{\n            iconfont: true,\n            'icon-edit-2': !modifyShow,\n            'icon-check': modifyShow,\n          }\"\n        ></span>\n        <span class=\"tip\">{{ !modifyShow ? \"编辑\" : \"完成\" }}</span>\n      </button>\n    </div>\n    <div class=\"nav-list\">\n      <a\n        :href=\"item.attributes.url\"\n        target=\"_blank\"\n        :class=\"{\n          'nav-item': true,\n          'ef-float': true,\n          'nav-item-blurred':bgPrepared,\n          'nav-item-wide': testSubsites(item.attributes),\n        }\"\n        v-for=\"(item, index) in navs.favorites\"\n        :key=\"index\"\n      >\n        <div\n          :class=\"{\n            left: true,\n            'left-wide': testSubsites(item.attributes),\n          }\"\n        >\n          <div class=\"top\">\n            <div\n              class=\"icon-area\"\n              :style=\"'background-color: ' + item.attributes.color\"\n            >\n              <img\n                :class=\"{\n                  icon: true,\n                  'icon-no-padding': item.attributes.no_padding,\n                }\"\n                :src=\"getIcon(item)\"\n                alt=\"\"\n                srcset=\"\"\n              />\n            </div>\n            <transition name=\"fade\">\n              <div\n                :class=\"{\n                  'btn-modify': true,\n                  'remove-favor': true,\n                  'ef-pudding': true,\n                  'icon-button': true,\n                }\"\n                @click.prevent=\"removeFavor(index)\"\n                v-if=\"modifyShow\"\n              >\n                <span class=\"iconfont icon-trash\"></span>\n              </div>\n            </transition>\n          </div>\n\n          <span\n            class=\"title fix-text-overflow\"\n            v-text=\"item.attributes.title\"\n          ></span>\n        </div>\n        <div class=\"subsites-list\" v-if=\"testSubsites(item.attributes)\">\n          <a\n            :href=\"item_2.attributes.url\"\n            target=\"_blank\"\n            :class=\"{\n              'subsite-item': true,\n              'subsite-item-blurred': bgPrepared,\n            }\"\n            v-for=\"(item_2, index_2) in item.attributes.subsites.data\"\n            :key=\"index_2\"\n          >\n            <span\n              class=\"title fix-text-overflow\"\n              v-text=\"item_2.attributes.title\"\n            ></span>\n          </a>\n        </div>\n      </a>\n      <transition name=\"fade\">\n        <div\n          class=\"nav-item ef-float add-nav\"\n          @click=\"showAdd()\"\n          v-if=\"modifyShow\"\n        >\n          <span class=\"iconfont icon-add\"></span>\n          <span class=\"tip\">自定义</span>\n        </div>\n      </transition>\n    </div>\n    <div class=\"nav-block\" v-for=\"(item, index) in navs.others\" :key=\"index\">\n      <div class=\"list-header\">\n        <span class=\"title\" v-text=\"item.attributes.name\"></span>\n      </div>\n      <div class=\"nav-list\" v-if=\"item.attributes.sites.data != null\">\n        <a\n          :href=\"item_1.attributes.url\"\n          target=\"_blank\"\n          :class=\"{\n            'nav-item': true,\n            'ef-float': true,\n            'nav-item-blurred': bgPrepared,\n            'nav-item-wide': testSubsites(item_1.attributes),\n          }\"\n          v-for=\"(item_1, index_1) in item.attributes.sites.data\"\n          :key=\"index_1\"\n        >\n          <div\n            :class=\"{\n              left: true,\n              'left-wide': testSubsites(item_1.attributes),\n            }\"\n          >\n            <div class=\"top\">\n              <div\n                class=\"icon-area\"\n                :style=\"'background-color: ' + item_1.attributes.color\"\n              >\n                <img\n                  :class=\"{\n                    icon: true,\n                    'icon-no-padding': item_1.attributes.no_padding,\n                  }\"\n                  :src=\"getIcon(item_1)\"\n                  alt=\"\"\n                  srcset=\"\"\n                />\n              </div>\n              <transition name=\"fade\">\n                <div\n                  :class=\"{\n                    'btn-modify': true,\n                    'add-favor': true,\n                    'ef-pudding': true,\n                    'icon-button': true,\n                  }\"\n                  v-if=\"modifyShow\"\n                  @click.prevent=\"addFavor(item_1)\"\n                >\n                  <span class=\"iconfont icon-add\"></span>\n                </div>\n              </transition>\n            </div>\n            <span\n              class=\"title fix-text-overflow\"\n              v-text=\"item_1.attributes.title\"\n            ></span>\n          </div>\n          <div class=\"subsites-list\" v-if=\"testSubsites(item_1.attributes)\">\n            <a\n              :href=\"item_2.attributes.url\"\n              target=\"_blank\"\n              :class=\"{\n                'subsite-item': true,\n                'subsite-item-blurred': bgPrepared,\n              }\"\n              v-for=\"(item_2, index_2) in item_1.attributes.subsites.data\"\n              :key=\"index_2\"\n            >\n              <span\n                class=\"title fix-text-overflow\"\n                v-text=\"item_2.attributes.title\"\n              ></span>\n            </a>\n          </div>\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Navigation\",\n  components: {},\n  data() {\n    return {\n      navs: {\n        favorites: [\n          {\n            title: \"加载中\",\n            color: \"\",\n            icon: \"\",\n            url: \"\",\n          },\n        ],\n        others: [],\n      },\n      addWindowShow: false,\n      modifyShow: false,\n      editing: {\n        title: \"\",\n        color: \"#ffffff\",\n        icon: \"\",\n        url: \"\",\n        subsites: {\n          data: [],\n        },\n      },\n    };\n  },\n  computed: {\n    remoteNavs: function () {\n      return this.$store.getters.getNavs;\n    },\n    bgPrepared: function () {\n      return this.$store.getters.getBgPrepared;\n    },\n  },\n  watch: {\n    navs() {\n      this.$store.commit(\"setNavs\", this.navs);\n    },\n  },\n  methods: {\n    testSubsites(attrs) {\n      try {\n        if (attrs.subsites.data[0] !== undefined) return true;\n        else return false;\n      } catch (error) {\n        console.log(error);\n        return false;\n      }\n    },\n    addNewFavor() {\n      const model = {\n        id: Date.now(),\n        attributes: this.deepClone(this.editing),\n      };\n      console.log(model);\n      this.navs.favorites.unshift(model);\n      this.editing.title = \"\";\n      this.editing.url = \"\";\n      this.editing.icon = \"\";\n      this.editing.color = \"\";\n      this.addWindowShow = false;\n    },\n    showModify() {\n      this.modifyShow ? (this.modifyShow = false) : (this.modifyShow = true);\n    },\n    showAdd() {\n      this.addWindowShow\n        ? (this.addWindowShow = false)\n        : (this.addWindowShow = true);\n    },\n    getRemoteNavs() {\n      try {\n        this.$api\n          .get(\n            \"/collections?populate[0]=sites&populate[1]=sites.icon&populate[2]=sites.subsites\"\n          )\n          .then((response) => {\n            // console.log(response.data.data);\n            this.navs.others = response.data.data;\n          });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    getIcon(icon) {\n      try {\n        let url = icon.attributes.icon.data.attributes.url;\n        return \"http://navapi.mercutio.club\" + url;\n      } catch (error) {\n        const template = `<svg width=\"140\" height=\"140\" xmlns=\"http://www.w3.org/2000/svg\"><g><text font-family=\"MiSans,sans\" font-weight=\"800\" font-size=\"120\" y=\"120\" x=\"9\" fill=\"${\n          icon.attributes.color == \"#ffffff\" ? \"#000\" : \"#fff\"\n        }\">${icon.attributes.title.slice(0, 1)}</text></g></svg>`;\n        const based = \"data:image/svg+xml,\" + encodeURIComponent(template);\n        return based;\n      }\n    },\n    addFavor(item) {\n      this.navs.favorites.unshift(item);\n      this.updateNavs();\n    },\n    removeFavor(index) {\n      this.navs.favorites.splice(index, 1);\n      this.updateNavs();\n    },\n    updateNavs() {\n      setTimeout(() => {\n        this.$store.commit(\"setNavs\", this.navs);\n      }, 5);\n    },\n    deepClone(obj) {\n      let _obj = JSON.stringify(obj);\n      let objClone = JSON.parse(_obj);\n      return objClone;\n    },\n  },\n  created() {},\n  mounted() {\n    this.navs = this.remoteNavs;\n    this.getRemoteNavs();\n  },\n  beforeDestroy() {},\n};\n</script>\n<style lang=\"css\" src=\"../styles/list.css\" scoped>\n</style>\n<style lang=\"css\" src=\"../styles/window.css\" scoped>\n</style>\n<style scoped>\n.navigation {\n  /* overflow: hidden; */\n}\n\n.nav-list {\n  display: grid;\n  gap: 10px;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  /* grid-auto-rows: minmax(33.33%, 100px); */\n}\n.nav-item {\n  display: flex;\n  align-items: flex-start;\n  justify-content: stretch;\n  border-radius: var(--card-radius);\n  background: var(--sub-card-color);\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border-width: 2px;\n  border-style: solid;\n  border-color: transparent;\n  color: var(--content-color);\n  padding: 10px;\n}\n.nav-item-blurred {\n  background: var(--blurred-sub-card-color);\n}\n.nav-item:hover {\n  background: var(--card-color);\n}\n.nav-item:active {\n  border-color: var(--accent-color);\n  background: var(--card-color);\n  box-shadow: 0 10px 20px 3px #00000024;\n  transform: translateY(-3px);\n}\n.nav-item-wide {\n  grid-column-start: span 2;\n}\n.nav-item .icon-area {\n  border-radius: var(--icon-radius);\n  /* width: 30px; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 50px;\n  height: 50px;\n  overflow: hidden;\n}\n.nav-item .icon {\n  box-sizing: border-box;\n  padding: 7px;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n.nav-item .icon-no-padding {\n  padding: 0;\n}\n.nav-item .title {\n  font-size: 16px;\n}\n\n.subsites-list {\n  margin-left: 10px;\n  display: flex;\n  gap: 5px;\n  flex-wrap: wrap;\n}\n.subsite-item {\n  border-radius: var(--item-radius);\n  background: var(--card-color);\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border-width: 2px;\n  border-style: solid;\n  border-color: var(--sub-card-color);\n  color: var(--content-color);\n  padding: 10px;\n  box-sizing: border-box;\n}\n.subsite-item-blurred {\n  background: var(--blurred-sub-card-color);\n  border-color: var(--blurred-sub-card-color);\n}\n.subsite-item:hover {\n  background: var(--sub-card-color);\n}\n.subsite-item:active {\n  background-color: var(--accent-color);\n  color: #fff;\n  border-color: transparent;\n}\n.subsite-item .title {\n  font-size: 16px;\n}\n.top {\n  width: 100%;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: 10px;\n}\n.btn-modify {\n  padding: 5px 7px;\n  background: var(--card-color);\n  border-radius: var(--item-radius);\n  border: 2px solid var(--sub-card-color);\n}\n.btn-modify .iconfont {\n  font-size: 20px;\n}\n\n.btn-modify:hover {\n  background: var(--sub-card-color);\n  border-color: transparent;\n}\n.add-favor:active {\n  background: var(--accent-color);\n  color: #fff;\n}\n.remove-favor:active {\n  background: var(--warn-color);\n  color: #fff;\n}\n.add-nav {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.add-nav .iconfont {\n  font-size: 30px;\n}\n.mask-on {\n  height: calc(100vh - var(--head-height));\n  overflow: hidden;\n}\n.left {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  width: 100%;\n  gap: 10px;\n}\n.left-wide {\n  width: 50%;\n}\n/* list */\n.list-header {\n  padding: 10px 0 5px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  /* position: sticky; */\n  /* top:var(--head-height); */\n}\n.list-header .title {\n  font-weight: 900;\n  font-size: 20px;\n}\n.list-header .icon-button {\n  border: 2px solid var(--line-color);\n  display: flex;\n  justify-content: center;\n  gap: 5px;\n}\n.list-header .icon-button:hover {\n  border-color: transparent;\n}\n.list-header .icon-button .iconfont {\n  font-size: 20px;\n}\n.list-header .icon-button .tip {\n  font-size: 14px;\n}\n\n.hide {\n  display: none;\n}\n.general-window {\n  gap: 10px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navigation.vue?vue&type=template&id=4a0844ca&scoped=true&\"\nimport script from \"./Navigation.vue?vue&type=script&lang=js&\"\nexport * from \"./Navigation.vue?vue&type=script&lang=js&\"\nimport style0 from \"../styles/list.css?vue&type=style&index=0&id=4a0844ca&lang=css&scoped=true&\"\nimport style1 from \"../styles/window.css?vue&type=style&index=1&id=4a0844ca&lang=css&scoped=true&\"\nimport style2 from \"./Navigation.vue?vue&type=style&index=2&id=4a0844ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a0844ca\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=style&index=2&id=4a0844ca&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!./list.css?vue&type=style&index=0&id=4a0844ca&lang=css&scoped=true&\""],"sourceRoot":""}